import{O}from"./kaplay-DTMj0i0V.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))d(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function l(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(i){if(i.ep)return;i.ep=!0;const a=l(i);fetch(i.href,a)}})();const e=O({scale:.7});e.loadRoot("./");e.loadSprite("bike","sprites/bike.png");e.loadSprite("head","sprites/head.png");e.loadSprite("torso","sprites/torso.png");e.loadSprite("arm","sprites/arm.png");e.loadSprite("background","sprites/background.jpg");e.loadSprite("car","sprites/car.png");e.loadSprite("car2","sprites/car2.png");e.loadSprite("car3","sprites/car3.png");e.loadSprite("airship","sprites/airship.png");e.loadSprite("plane","sprites/plane.png");loadSound("menuMusic","sounds/menuMusic.mp3");loadSound("bikeLoop","sounds/bikeLoop.wav");loadSound("bikeLoop2","sounds/bikeLoop2.wav");loadSound("scoreLoop","sounds/scoreLoop.mp3");loadSound("crash","sounds/crash.mp3");scene("menu",()=>{let b=play("menuMusic",{loop:!0,volume:.1});e.add([pos(0,0),rect(e.width(),e.height()),color("#000000"),area()]),e.add([pos(e.width()/2,e.height()/4),text("Cinder Fall",{size:40,color:rgb(255,255,255)}),layer("ui"),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()/3-50),text("-Score as many points as you can by doing back flips/front flips",{size:20,color:rgb(255,255,255)}),layer("ui"),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()/3),text("- Use the arrow keys (<-) and (->) to accelerate or decelerate",{size:20,color:rgb(255,255,255)}),layer("ui"),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()/3+50),text("- Use the (A) and (D) keys to control the tilt of your bike",{size:20,color:rgb(255,255,255)}),layer("ui"),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()/3+100),text("- Use (Space Bar) to jump ",{size:20,color:rgb(255,255,255)}),layer("ui"),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()/3+150),text("- Your speed will effect your rotation",{size:20,color:rgb(255,255,255)}),layer("ui"),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()/3+200),text("- Max speed increases gradually over time",{size:20,color:rgb(255,255,255)}),layer("ui"),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()/3+250),text("- Have Fun! 🎉😁",{size:20,color:rgb(255,255,255)}),layer("ui"),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()-e.height()/4),text("Start"),color("#ffffff"),area(),layer("ui"),{label:"Start"}]).onClick(()=>{b.stop(),go("game")})});scene("game",()=>{setGravity(200);let b=270,t=0,l=1e3,d=0,i=!1,a=!1,u=!1,x=0,c=0,s=0,p=null,h=null,n=null,w=e.add([pos(1613,e.height()),sprite("background"),color("#d6d6d6"),area(),"background1",anchor("bot")]),M=e.add([pos(4839,e.height()),sprite("background"),color("#d6d6d6"),area(),"background2",anchor("bot")]);add([pos(0,e.height()-20),rect(e.width(),20),color("#6B6B6B"),area(),body({isStatic:!0}),"floor"]);let r=e.add([pos(e.width()/4+100,e.height()-80),sprite("bike"),scale(.4),anchor("center"),area(),body(),"bike"]);add([pos(0,0),rect(300,80),color(rgb(0,0,0),.5),area(),body({isStatic:!0}),"floor"]);let B=e.add([pos(10,10),text("Speed : 0",{size:27,color:rgb(255,255,255)}),layer("ui"),{update:()=>{B.text=`Speed: ${t<20?0:Math.round(t/7)} Km/h`}}]),v=e.add([pos(10,45),text("Score : 0",{size:27,color:rgb(255,255,255)}),layer("ui"),{update:()=>{v.text=`Score: ${Math.round(x)}`}}]),g=e.add([pos(e.width()/2-100,e.height()/2-80),text("",{size:40,color:rgb(255,255,255),weight:400}),layer("ui"),{update:()=>{c>0&&s>0?(g.text=`${Math.round(c*s)}`,s<=2?g.color=rgb(255,255,255):s<=4?g.color=rgb(255,255,0):s<=6?g.color=rgb(255,165,0):g.color=rgb(255,0,0)):g.text=""}}]);function k(){i=!0;let o=play("menuMusic",{loop:!0,volume:.1});p&&(p.stop(),p=null),h&&(h.stop(),h=null),n&&(n.stop(),n=null),n&&(n.stop(),n=null),play("crash",{volume:.1});let f=e.add([pos(r.pos.x,r.pos.y-50),sprite("head"),area(),body({restitution:.5}),scale(.4)]),S=e.add([pos(r.pos.x,r.pos.y),sprite("torso"),area(),body(),scale(.4)]),L=e.add([pos(r.pos.x-100,r.pos.y+25),sprite("arm"),area(),body(),scale(.4)]),K=e.add([pos(r.pos.x+100,r.pos.y+25),sprite("arm"),area(),body(),scale(.4)]),D=e.add([pos(r.pos.x-100,r.pos.y+25),sprite("arm"),area(),body(),scale(.4)]),z=e.add([pos(r.pos.x+100,r.pos.y+25),sprite("arm"),area(),body(),scale(.4)]);addKaboom(vec2(r.pos.x,r.pos.y)),y(f),y(S),y(L),y(K),y(D),y(z),r.destroy(),f.vel=vec2(t/4,-(Math.random()*1e3)),S.vel=vec2(t/4-60,-(Math.random()*1e3)),L.vel=vec2(t/4-20,-(Math.random()*1e3)),K.vel=vec2(t/4+20,-(Math.random()*1e3)),D.vel=vec2(t/4-40,-(Math.random()*1e3)),z.vel=vec2(t/4+40,-(Math.random()*1e3)),e.add([pos(e.width()/2,e.height()/2),rect(300,200),color("#000000"),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()/2-20),text(`Final ${v.text}`,{size:20,color:rgb(255,255,255)}),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()/2+10),text(`Top Speed : ${Math.round(t/7)} Km/h`,{size:20,color:rgb(255,255,255)}),layer("ui"),{anchor:"center"}]),e.add([pos(e.width()/2,e.height()/2+70),text("Start Over",{size:24,color:rgb(0,238,255)}),area(),layer("ui"),{anchor:"center"},"startButton"]).onClick(()=>{o.stop(),go("game")}),t=0}function y(o){o.onCollide("floor",f=>{o.vel.y=-Math.abs(o.vel.y)*.6,o.vel.x*=.9})}onUpdate(()=>{if(!i){if(r.isGrounded()&&Math.abs(r.angle)>90){k();return}w.pos.x-=t*dt(),M.pos.x-=t*dt(),w.pos.x+1633<0&&(w.pos.x=M.pos.x+3226),M.pos.x+1633<0&&(M.pos.x=w.pos.x+3226),r.pos.x<e.width()/4+100&&(r.pos.x+=80*dt()),r.isGrounded()?(Math.abs(r.angle)>10&&!a?(s>1&&(x+=c*s,c=0),u=!0,c+=Math.max(t/25,1)*dt(),s=1):(u=!1,x+=c*s,s=0,c=0),isKeyDown("left")&&t>200&&(t=Math.max(t-l*dt(),-l)),isKeyDown("right")&&(t=Math.min(t+l/3*dt(),l)),isKeyDown("space")||isKeyDown("a")||isKeyDown("right")||isKeyDown("d")||t>200&&(t=t>0?t-l/4*dt():t+l/4*dt()),isKeyDown("space")&&(a||r.jump(b)),a||(d=d*.95)):(isKeyDown("left")&&t>200&&(t=Math.max(t-l*dt(),-l)),isKeyDown("right")&&(t=Math.min(t+l/5*dt(),l)),u&&r.pos.y<e.height()-100?(u=!1,x+=c*s,s=0,c=0):c+=Math.max(t/25,1)*dt()),r.isGrounded()&&isKeyDown("right")&&(p||(p=play("bikeLoop",{loop:!0,volume:.1})),h&&(h.stop(),h=null)),r.pos.y>e.height()-100&&!isKeyDown("right")&&(p&&(p.stop(),p=null),h||(h=play("bikeLoop2",{loop:!0,volume:.1}))),r.pos.y<e.height()-100&&!a&&(p&&(p.stop(),p=null),h||(h=play("bikeLoop2",{loop:!0,volume:.1}))),isKeyDown("a")&&(d-=t>500?t/5*dt():100*dt()),isKeyDown("d")&&(d+=t>500?t/5*dt():100*dt()),d>180&&(s+=1,d-=360),d<-180&&(d+=360,s+=1),s>0&&!n&&(n=play("scoreLoop",{loop:!0,volume:.1})),s===0&&n&&(n.stop(),n=null),r.angle=d}}),r.onCollide("ramp",o=>{a=!0}),r.onCollideEnd("ramp",o=>{a=!1,r.jump((o.angleRadius+1)*b)}),loop(15,()=>{let o=m(100,600),f=m(500,800),S=Math.atan2(o,f);e.add([pos(e.width()+500,e.height()-20),polygon([vec2(-f,0),vec2(0,0),vec2(0,-o)]),color("#969595"),area(),body({isStatic:!0}),"ramp","floor",{angleRadius:S}])}),loop(11,()=>{if(!i){let o=m(1,5);o==1?e.add([pos(e.width()*2,e.height()-90),sprite("car3"),scale(.55),area(),body({isStatic:!0}),"obstacle",{speedMultiplier:.7}]):o==2?e.add([pos(e.width()*2,e.height()-80),sprite("car2"),scale(.55),area(),body({isStatic:!0}),"obstacle",{speedMultiplier:.5}]):o==3?e.add([pos(e.width()*2,e.height()-80),sprite("car"),area(),body({isStatic:!0}),"obstacle",{speedMultiplier:.3}]):o==4?e.add([pos(e.width()*2,m(e.height()/4,e.height()-250)),sprite("airship"),area(),body({isStatic:!0}),"obstacle",{speedMultiplier:.7}]):o==5&&e.add([pos(e.width()*2,m(e.height()/4,e.height()-200)),sprite("plane"),scale(.16),area(),body({isStatic:!0}),"obstacle",{speedMultiplier:.5}])}}),loop(1,()=>{i||(l+=10)}),onUpdate("ramp",o=>{o.pos.x-=t*dt(),o.pos.x+o.width<0&&destroy(o),r.pos.x+r.width>o.pos.x&&r.pos.x<o.pos.x+o.width&&(r.pos.x=Math.clamp(r.pos.x,o.pos.x,o.pos.x+o.width-r.width))}),onUpdate("obstacle",o=>{o.pos.x-=t>600?t*o.speedMultiplier*dt():-(300*o.speedMultiplier*dt()),o.pos.x<0&&destroy(o)}),r.onCollide("obstacle",o=>{k()});function m(o,f){return Math.floor(Math.random()*(f-o+1))+o}});go("menu");
//# sourceMappingURL=index-BU8F_D33.js.map
